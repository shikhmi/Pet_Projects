# Проект базы данных для мебельного магазина

## О проекте
Система управления данными для сети мебельных магазинов, включающая учет:
- **Филиалов** и их товарных запасов
- **Производителей** и ассортимента товаров
- **Клиентов** и истории их покупок
- **Поставок** товаров в филиалы
- **Динамики цен** с историей изменений

Автоматизирует ключевые бизнес-процессы: продажи, пополнение складов, ценообразование и аналитику.

##  Основные возможности
- **Управление филиалами**
  - Отслеживание остатков товаров
  - Учет поставок и обновлений ассортимента
- **Работа с товарами**
  - Каталог с характеристиками (цвет, вес, тип)
  - Привязка к производителям
- **Аналитика продаж**
  - История покупок по клиентам и филиалам
  - Сравнение продаж за периоды
- **Автоматизация**
  - Триггеры для обновления остатков
  - Логирование изменений цен
  - Проверка доступности товара

## Структура данных
![Диаграмма связей](/docs/conceptual_model/conceptual-model.jpg)

**Основные сущности:**
- **Department** (Филиалы)
- **Product** (Товары)
- **Manufacturer** (Производители)
- **Customer** (Клиенты)
- **Purchase** (Покупки)
- **Delivery** (Поставки)
- **PriceChange** (История цен)

## Установка
1. Установите PostgreSQL 12+
2. Создайте новую базу данных
3. Выполните SQL-скрипты в порядке:
   - `ddl.sql` (создание структуры)
   - `dml.sql` (наполнение тестовыми данными)
   - `indexes.sql`, `triggers.sql`, `functions_and_procedures.sql`

## Использование
Примеры работы с системой:
- **Анализ продаж**: Используйте представление `price_change_history`
- **Пополнение склада**: Процедура `add_new_product`
- **Отчетность**: Функция `get_total_sales`

Файлы с реализацией:
- `queries.sql` – Примеры аналитических запросов
- `views.sql` – Готовые отчеты
- `triggers.sql` – Автоматические правила
